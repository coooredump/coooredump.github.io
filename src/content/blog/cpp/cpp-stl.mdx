---
title: C++ STL ä¸å¸¸è§è¯­æ³•ç³–
description: C++ STL è¯­æ³•å¤§å…¨
publishDate: 2025-04-12
tags: [cpp]
language: Chinese
comment: true
draft: false
---

## åˆ·é¢˜å¸¸è§è¯­æ³•

### functionï½œ`auto&& dfs`

1ï¸âƒ£ å…³äº [[572. å¦ä¸€æ£µæ ‘çš„å­æ ‘](https://leetcode.cn/problems/subtree-of-another-tree/)] ä»£ç ä¸­çš„ `auto dfs = [&](auto&& dfs, TreeNode* node) -> pair<int, bool> {}` ä¼ é€’ `auto&& dfs` çš„è§£é‡Šã€‚

```cpp
// 572. å¦ä¸€æ£µæ ‘çš„å­æ ‘
class Solution {
public:
    int getHeight(TreeNode* root) {
        if(root == nullptr)
            return 0;
        int left_h = getHeight(root->left);
        int right_h = getHeight(root->right);
        return max(left_h, right_h) + 1;
    }

    bool isSameTree(TreeNode* p, TreeNode* q) {
        if(p == nullptr || q == nullptr) {
            return p == q;
        }
        return p->val == q->val && isSameTree(p->left, q->left) && isSameTree(p->right, q->right);
    }

    bool isSubtree(TreeNode* root, TreeNode* subRoot) {
        int hs = getHeight(subRoot);
        
        auto dfs = [&](auto&& dfs, TreeNode* node) -> pair<int, bool> {
            if(node == nullptr)
                return {0, false};
            auto [left_h, left_found] = dfs(dfs, node->left);
            auto [right_h, right_found] = dfs(dfs, node->right);
            if(left_found || right_found)
                return {0, true};
            int node_h = max(left_h, right_h) + 1;
            return {node_h, node_h == hs && isSameTree(node, subRoot)};
        };

        return dfs(dfs, root).second;
    }
};
```

ğŸ”¥ ä¸ºä»€ä¹ˆéœ€è¦åœ¨è°ƒç”¨ dfs ä¼ é€’ dfs è‡ªèº«ï¼šä¸ºäº†èƒ½å¤Ÿé€’å½’è°ƒç”¨ `dfs`ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ lambda çš„å†…éƒ¨å°†å…¶ä¼ é€’ç»™è‡ªå·±ã€‚**C++ çš„ lambda æœ¬èº«æ˜¯ä¸èƒ½ç›´æ¥é€’å½’çš„ï¼Œå› ä¸ºå®ƒåªæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°å¯¹è±¡ï¼Œä¸çŸ¥é“å¦‚ä½•è°ƒç”¨è‡ªèº«**ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ˜¾å¼åœ°å°† `dfs` ä½œä¸ºå‚æ•°ä¼ é€’ç»™å®ƒè‡ªèº«ï¼Œä»¥ä¾¿åœ¨é€’å½’æ—¶èƒ½æ­£ç¡®è°ƒç”¨ã€‚

2ï¸âƒ£ å¦‚æœè¦ç®€åŒ–è°ƒç”¨æ–¹å¼ï¼ˆå³ä¸é‡å¤ä¼ å…¥ `dfs`ï¼‰ï¼Œé‚£å¯ä»¥è¿™æ ·å®šä¹‰ï¼š

```cpp
auto dfs = [&](this auto&& dfs, TreeNode* node) -> pair<int, bool> {
    ...
}
// call
dfs(root);
```

3ï¸âƒ£ å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ `function<pair<int, bool>(TreeNode*)>dfs = [&](TreeNode* node) -> pair<int, bool> {};` è¿™æ ·å°±åªéœ€è¦ä¼ ä¸€ä¸ªå‚æ•°ï¼Œä½†æ˜¯ä¹Ÿæ˜¾å¾—ä»£ç æœ‰äº›è‡ƒè‚¿ï¼Œçœ‹ä¸ªäººä¹ æƒ¯ï¼Œæˆ‘æ¯”è¾ƒä¹ æƒ¯ç›´æ¥ç”¨ `function` è€Œä¸æ˜¯ `auto`ï¼Œä¹Ÿå¯ä»¥æ˜¯ï¼š`auto&& dfs = [&](auto&& dfs, TreeNode* node) -> pair<int, bool> {};`

### `->`ï¼Œ`.` å¸¸è§ç”¨å¤„

`.` æ˜¯**ç»“æ„ä½“**çš„æˆå‘˜è¿ç®—ç¬¦ã€‚ç”¨äºé€šè¿‡å¯¹è±¡æˆ–å¼•ç”¨ç›´æ¥è®¿é—®å¯¹è±¡çš„æˆå‘˜ã€‚

```cpp
struct MyStruct {
    int x;
    void func() { /* ... */ }
};

MyStruct obj;
obj.x = 10;   // ä½¿ç”¨ . æ¥è®¿é—®æˆå‘˜å˜é‡
obj.func();   // ä½¿ç”¨ . æ¥è°ƒç”¨æˆå‘˜å‡½æ•°
```

`->` æ˜¯**æŒ‡é’ˆ**æŒ‡å‘å…¶æˆå‘˜çš„è¿ç®—ç¬¦ã€‚ç»„åˆæ“ä½œç¬¦ï¼Œç›¸å½“äºå…ˆè§£å¼•ç”¨æŒ‡é’ˆï¼Œå†é€šè¿‡ `.` è®¿é—®æˆå‘˜ã€‚

```cpp
MyStruct* ptr = &obj;
ptr->x = 20;   // ä½¿ç”¨ -> æ¥è®¿é—®æˆå‘˜å˜é‡
ptr->func();   // ä½¿ç”¨ -> æ¥è°ƒç”¨æˆå‘˜å‡½æ•°
```

å…¶å®ƒç”¨æ³•ï¼š

- `pair<int, int> p` ä½¿ç”¨ `p.first`

```cpp
// å¯¹è±¡
std::pair<int, int> p = {1, 2};
p.first = 10;
// æŒ‡é’ˆ
std::pair<int, int>* pPtr = &p;
pPtr->first = 10;
```

- è¿­ä»£å™¨é€šå¸¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆä¾‹å¦‚å®¹å™¨çš„è¿­ä»£å™¨ï¼‰ï¼Œ**ä½†å®ƒé€šå¸¸è¡¨ç°ä¸ºç±»ä¼¼æŒ‡é’ˆçš„è¡Œä¸º**ï¼Œæ‰€ä»¥è¿­ä»£å™¨ iterator ä½¿ç”¨ `->` æ¥è§£å¼•ç”¨è®¿é—®å…ƒç´ 

```cpp
// è¿­ä»£å™¨æ˜¯å¯¹è±¡
it.operator++();  // å‡è®¾ it æ˜¯ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨æˆå‘˜å‡½æ•°

// ä½†æ˜¯è®¿é—®å…ƒç´ éœ€è¦ä½¿ç”¨ -> è§£å¼•ç”¨
auto it = mp.begin();
it->first; 	// è®¿é—® std::map æˆ– std::unordered_map ä¸­çš„ pair æˆå‘˜
// *it è§£å¼•ç”¨è¿­ä»£å™¨åé€šå¸¸æŒ‡å‘å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œ-> æ˜¯ (*it).member çš„ç®€å†™
```

- å…³äº for åœ¨ `map` ä¸ `pair` ä¸­çš„éå†

```cpp
unordered_map<int, int> mp{{1, 2},
                           {3, 4}};
// iterator
auto it = mp.begin();
cout << it->first << ": " << it->second << std::endl;

// unordered_map
for (auto &p: mp) {
    std::cout << p.first << ": " << p.second << std::endl;
}

vector<pair<int, int>> vec{{1,  2},
                           {11, 22}};
// pair
for (auto &p: vec) {
    std::cout << p.first << ": " << p.second << std::endl;
}
```

### å¸¸è§æ•°æ®ç»“æ„æ•°å€¼å¤§å°

`size_t`ï¼šæ˜¯ä¸€ç§åœ¨ C å’Œ C++ ä¸­å¸¸è§çš„æ— ç¬¦å·æ•´æ•°ç±»å‹ï¼Œå®ƒç”¨äºè¡¨ç¤ºæŸä¸ªå¯¹è±¡æˆ–ç±»å‹åœ¨å†…å­˜ä¸­çš„å¤§å°ï¼Œé€šå¸¸ç”± `sizeof` æ“ä½œç¬¦è¿”å›ã€‚`size_t` çš„å®šä¹‰åœ¨æ ‡å‡†å¤´æ–‡ä»¶ `<stddef.h>`ï¼ˆC ä¸­ï¼‰æˆ– `<cstddef>`ï¼ˆC++ ä¸­ï¼‰ä¸­ã€‚

- **æ— ç¬¦å·ç±»å‹**ï¼š`size_t` æ˜¯æ— ç¬¦å·æ•´æ•°ï¼Œè¿™æ„å‘³ç€å®ƒä¸èƒ½è¡¨ç¤ºè´Ÿå€¼ï¼ˆå§‹ç»ˆ >= 0ï¼‰ã€‚
- **å¹³å°ç›¸å…³**ï¼š`size_t` çš„å…·ä½“å¤§å°ä¾èµ–äºå¹³å°çš„æ¶æ„ã€‚åœ¨32ä½ç³»ç»Ÿä¸Šï¼Œ`size_t` é€šå¸¸ä¸º 4 å­—èŠ‚ï¼ˆ32 ä½ï¼‰ï¼›åœ¨64ä½ç³»ç»Ÿä¸Šï¼Œå®ƒé€šå¸¸ä¸º 8 å­—èŠ‚ï¼ˆ64 ä½ï¼‰ã€‚
- **å…¸å‹ç”¨é€”**ï¼š`size_t` ä¸»è¦ç”¨äºæ•°ç»„ç´¢å¼•ã€å†…å­˜å¤§å°è®¡ç®—ã€`malloc` å’Œ `calloc` ç­‰å†…å­˜åˆ†é…å‡½æ•°çš„è¿”å›å€¼ã€‚

```cpp
// åƒ STL çš„å®¹å™¨ size() å‡½æ•°è¿”å›å€¼æ˜¯ size_tï¼Œè€Œ size_t æ˜¯ä¸€ä¸ªä¸æœºå™¨ç›¸å…³ï¼ˆ32bitï¼Œ64bitï¼‰çš„æ— ç¬¦å·æ•´æ•°ç±»å‹ï¼Œ
size_t size() const;

// æ­»å¾ªç¯
for (size_t i = N; i >= 0; --i) {
	// todo
}
```

> å…¶ä»–å¸¸è§æ•°æ®ç»“æ„ç±»å‹

| æ•°æ®ç±»å‹      | å­—èŠ‚å¤§å°               | æ•°å€¼èŒƒå›´                                  |
| ------------- | ---------------------- | ----------------------------------------- |
| char          | 1                      | `-128` åˆ° `127` æˆ– `0` åˆ° `255`ï¼ˆæ— ç¬¦å·ï¼‰ |
| signed char   | 1                      | `-128` åˆ° `127`                           |
| unsigned char | 1                      | `0` åˆ° `255`                              |
| short         | 2                      | $-2^{15}$ åˆ° $2^{15}-1$                   |
| int           | 4                      | $-2^{31}$ åˆ° $2^{31}-1$                   |
| long          | 4 æˆ– 8                 | ...                                       |
| long long     | 8                      | $-2^{63}$ åˆ° $2^{63}-1$                   |
| wchar_t       | 2 æˆ– 4                 | ...                                       |
| char16_t      | 2                      | 0 åˆ° $2^{16}-1$                           |
| char32_t      | 4                      | 0 åˆ° $2^{32}-1$                           |
| size_t        | 4 æˆ– 8ï¼ˆæ ¹æ®æœºå™¨è€Œå®šï¼‰ | 0 åˆ° $2^{32}-1$ æˆ–è€… 0 åˆ° $2^{64}-1$      |

### `atoi()`, `stoi()`, `iota()`, `itoa()` ä¸ `c_str()`

- `c_str()`ï¼šå°† `string` è½¬ä¸º `char*`ï¼Œå³æŠŠ C++ å­—ç¬¦ä¸²å¯¹è±¡è½¬æ¢ä¸º C é£æ ¼çš„å­—ç¬¦ä¸²ï¼ˆä»¥ \0 ç»“å°¾çš„å­—ç¬¦æ•°ç»„ï¼‰

```cpp
// const char* c_str() const noexcept;
std::string str = "hello";
const char* cstr = str.c_str();  // cstr ç°åœ¨ä¸º "hello"
```

- `itoa()`ï¼š**Integer to ASCII**ï¼›å°†æ•´æ•°è½¬æ¢ä¸º C é£æ ¼çš„å­—ç¬¦ä¸²ï¼ˆå³ä»¥ \0 ç»“å°¾çš„å­—ç¬¦æ•°ç»„ï¼‰ï¼Œè¿”å›æŒ‡å‘è½¬æ¢åå­—ç¬¦ä¸²çš„æŒ‡é’ˆï¼Œå³å‚æ•° str çš„åœ°å€

- `iota()`ï¼š**Incremental Fill**ï¼›å°†æŒ‡å®šèŒƒå›´å†…çš„æ¯ä¸ªå…ƒç´ èµ‹å€¼ä¸ºä¸€ä¸ªé€’å¢çš„å€¼ï¼Œé€šå¸¸ç”¨äºç”Ÿæˆåºåˆ—

> `itoa()` ä¸º C åº“å‡½æ•°

```cpp
// char* itoa(int value, char* str, int base);
char buffer[20];
itoa(12345, buffer, 10);  // å°†æ•´æ•° 12345 è½¬æ¢ä¸ºå­—ç¬¦ä¸² "12345"

// void iota(ForwardIt first, ForwardIt last, T value);
std::vector<int> vec(5);
std::iota(vec.begin(), vec.end(), 10);  // vec ç°åœ¨åŒ…å« {10, 11, 12, 13, 14}
```

- `atoi()`ï¼š**ASCII to Integer**ï¼›å°† `char*` è½¬ä¸º `int`ï¼Œå› æ­¤å¯¹äºä¸€ä¸ªå­—ç¬¦ä¸² str æˆ‘ä»¬å¿…é¡»è°ƒç”¨ `c_str()` çš„æ–¹æ³•æŠŠè¿™ä¸ª `string` è½¬æ¢æˆ `const char*` ç±»å‹ï¼›ä¸ä¼šåšèŒƒå›´æ£€æŸ¥ï¼Œå¦‚æœè¶…å‡ºèŒƒå›´çš„è¯ï¼Œè¶…å‡ºä¸Šç•Œï¼Œåˆ™è¾“å‡ºä¸Šç•Œï¼Œè¶…å‡ºä¸‹ç•Œï¼Œåˆ™è¾“å‡ºä¸‹ç•Œã€‚

> `atoi()` ä¸º C åº“å‡½æ•°

```cpp
// int atoi(const char* str);
const char* str = "123";
int num = atoi(str);  // num ç°åœ¨ä¸º 123
```

- `stoi()`ï¼š**String to Int**ï¼›å°† `string` è½¬ä¸º `int`ï¼Œä¸”ä¼šåšèŒƒå›´æ£€æŸ¥ï¼Œé»˜è®¤èŒƒå›´æ˜¯åœ¨ int çš„èŒƒå›´å†…çš„ï¼Œå¦‚æœè¶…å‡ºèŒƒå›´çš„è¯åˆ™ä¼š runtime error.

- `stof()`ï¼š**String to Float**ï¼›å°† `string` è½¬ä¸º `float`ï¼ŒåŒä¸Š
- `to_string()`

```cpp
// int stoi(const std::string& str, size_t* pos = 0, int base = 10);
std::string str1 = "456";
int num1 = stoi(str1);  // num ç°åœ¨ä¸º 456

// float stof(const std::string& str, size_t* pos = 0);
std::string str2 = "3.14";
float num2 = stof(str2);  // num ç°åœ¨ä¸º 3.14f
```

### *max_element() ä¸ *min_element()

`std::max_element()` å’Œ `std::min_element()` åˆ†åˆ«æ˜¯å–ã€Œæœ€å¤§å€¼ã€å’Œã€Œæœ€å°å€¼ã€çš„å‡½æ•°

C++ 20 ä¹Ÿå¯ä»¥ä½¿ç”¨ `ranges::max_element()` ä¸ `ranges::min_element()`

```cpp
std::vector<int> v{3, 1, -4, 1, 5, 9};

// ForwardIt max_element( ForwardIt first, ForwardIt last );
int mx_elem = *max_element(v.begin(), v.end());

// ForwardIt min_element( ForwardIt first, ForwardIt last );
int mn_elem = *min_element(v.begin(), v.end());

// è‡ªå®šä¹‰ compare å‡½æ•°
auto it = std::max_element(v.begin(), v.end(), [](int a, int b)
    {
        return std::abs(a) < std::abs(b);
    });
std::cout << *it << std::endl;
```

### `__builtin_popcount(nums[i])`

`__builtin_popcount(nums[i])` æ˜¯ GCC å’Œ Clang ç¼–è¯‘å™¨ä¸­çš„å†…ç½®å‡½æ•°ï¼Œç”¨äºè®¡ç®—ä¸€ä¸ªæ•´æ•°ä¸­äºŒè¿›åˆ¶ä½ä¸º 1 çš„æ•°é‡ã€‚

```cpp
// 3011. åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦å¯ä»¥å˜ä¸ºæœ‰åº
class Solution {
public:
    bool canSortArray(vector<int>& nums) {
        // __builtin_popcount(num): GCC å’Œ Clang ç¼–è¯‘å™¨ä¸­çš„å†…ç½®å‡½æ•°ï¼Œç”¨äºè®¡ç®—ä¸€ä¸ªæ•´æ•°ä¸­äºŒè¿›åˆ¶ä½ä¸º 1 çš„æ•°é‡
        int n = nums.size();
        int pre_max = 0;
        for (int i = 0; i < n;) {
            int mx = 0;
            int ones = __builtin_popcount(nums[i]);
            while (i < n && __builtin_popcount(nums[i]) == ones) {
                if (nums[i] < pre_max) {
                    return false;
                }
                mx = max(mx, nums[i++]);
            }
            pre_max = mx;
        }
        return true;
    }
};
```

### resize() çŸ¥å¤šå°‘

` ans.resize(n, avg)` å¤šå‡ºçš„ç©ºé—´ç”¨ avg è¡¥å…¨ï¼Œæ•°ç»„å˜çŸ­åˆ™ç›´æ¥æˆªæ–­ã€‚

### ranges::nth_element()

ç›¸å…³ä¾‹é¢˜ï¼š[1738. æ‰¾å‡ºç¬¬ K å¤§çš„å¼‚æˆ–åæ ‡å€¼](https://leetcode.cn/problems/find-kth-largest-xor-coordinate-value/)

`ranges::nth_element(vec, vec.end() - k)` æ±‚å–ç¬¬ k å¤§çš„æ•°å¹¶æ”¾åœ¨å¯¹åº”ä½ç½®ï¼Œå·¦è¾¹æ¯”å…¶å°ï¼Œå³è¾¹æ¯”å…¶å¤§ï¼Œä½†é¡ºåºä¸ä¿è¯ã€‚

```cpp
// 1738. æ‰¾å‡ºç¬¬ K å¤§çš„å¼‚æˆ–åæ ‡å€¼
class Solution {
public:
    int kthLargestValue(vector<vector<int>>& matrix, int k) {
        int m = matrix.size(), n = matrix[0].size();
        vector<int> ans;
        vector<vector<int>> s(m + 1, vector<int>(n + 1));
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                s[i + 1][j + 1] = s[i][j] ^ s[i + 1][j] ^ s[i][j + 1] ^ matrix[i][j];
                ans.push_back(s[i + 1][j + 1]);
            }
        }
        ranges::nth_element(ans, ans.end() - k);
        return ans[ans.size() - k];
    }
};
```

### lower_bound() ä¸ upper_bound()

`lower_bound()` å’Œ `upper_bound()` éƒ½æ˜¯åˆ©ç”¨ã€Œ**äºŒåˆ†æŸ¥æ‰¾**ã€æ–¹æ³•åœ¨æ’åºæ•°ç»„ä¸­è¿›è¡ŒæŸ¥æ‰¾ã€‚

- `lower_bound(nums.begin(), nums.end(), num)`ï¼šæ‰¾ç¬¬ä¸€ä¸ª**å¤§äºæˆ–ç­‰äº** num çš„æ•°å­—
- `upperer_bound(nums.begin(), nums.end(), num)`ï¼šæ‰¾ç¬¬ä¸€ä¸ª**å¤§äº** num çš„æ•°å­—

```cpp
// 2529. æ­£æ•´æ•°å’Œè´Ÿæ•´æ•°çš„æœ€å¤§è®¡æ•°
class Solution {
public:
    int maximumCount(vector<int>& nums) {
        int neg = ranges::lower_bound(nums, 0) - nums.begin();
        int pos = nums.end() - ranges::upper_bound(nums, 0);
        return max(neg, pos);
    }
};
```

ç­‰ä»·äº `ranges::equal_range()`

```cpp
class Solution {
public:
    int maximumCount(vector<int>& nums) {
        auto [left, right] = ranges::equal_range(nums, 0);
        int neg = left - nums.begin();
        int pos = nums.end() - right;
        return max(neg, pos);
    }
};
```

### `std::move()` ä¸å³å€¼è¡¨è¾¾å¼

æ¨èé˜…è¯»ï¼š[ä¸€æ–‡è¯»æ‡‚ C++ å³å€¼å¼•ç”¨å’Œ **std::move**](https://zhuanlan.zhihu.com/p/335994370)

#### 1. ä»€ä¹ˆæ˜¯å³å€¼å’Œå·¦å€¼ï¼Ÿ

åœ¨ C++ ä¸­ï¼Œè¡¨è¾¾å¼çš„å€¼å¯ä»¥åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š**å·¦å€¼ï¼ˆlvalueï¼‰** å’Œ **å³å€¼ï¼ˆrvalueï¼‰**ã€‚

- **å·¦å€¼ï¼ˆlvalueï¼‰**ï¼š

    - å·¦å€¼è¡¨ç¤ºä¸€ä¸ªå…·æœ‰æŒä¹…å­˜å‚¨ï¼ˆå¯ä»¥å–åœ°å€ï¼‰çš„å¯¹è±¡ï¼Œé€šå¸¸æ˜¯å˜é‡æˆ–å¯ä»¥å‡ºç°åœ¨èµ‹å€¼æ“ä½œç¬¦å·¦è¾¹çš„è¡¨è¾¾å¼ã€‚

    - ä¾‹å¦‚ï¼šå˜é‡ã€æ•°ç»„å…ƒç´ ã€å¯¹è±¡çš„æˆå‘˜ç­‰ã€‚

    - ç¤ºä¾‹ï¼š

        ```cpp
        int x = 10;
        x = 20; // x æ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œå¯ä»¥èµ‹å€¼ã€‚
        ```

- **å³å€¼ï¼ˆrvalueï¼‰**ï¼š

    - å³å€¼è¡¨ç¤ºä¸€ä¸ªä¸´æ—¶å€¼æˆ–ä¸æŒä¹…å­˜å‚¨çš„å€¼ï¼Œé€šå¸¸æ˜¯è¡¨è¾¾å¼çš„ç»“æœï¼Œå¦‚å¸¸é‡ã€ä¸´æ—¶å¯¹è±¡ã€è¿ç®—ç»“æœç­‰ã€‚å³å€¼é€šå¸¸æ— æ³•å–åœ°å€ï¼Œä¹Ÿä¸èƒ½åœ¨èµ‹å€¼æ“ä½œç¬¦çš„å·¦è¾¹ä½¿ç”¨ã€‚

    - ç¤ºä¾‹ï¼š

        ```cpp
        int y = 10 + 20; // 10 + 20 æ˜¯ä¸€ä¸ªå³å€¼ï¼Œåªæ˜¯ä¸€ä¸ªè®¡ç®—ç»“æœã€‚
        int z = 30;      // 30 æ˜¯ä¸€ä¸ªå³å€¼ã€‚
        ```

#### 2. å³å€¼å¼•ç”¨ï¼ˆrvalue referenceï¼‰

å³å€¼å¼•ç”¨æ˜¯ C++11 å¼•å…¥çš„ä¸€ç§æ–°ç‰¹æ€§ï¼Œå®ƒå…è®¸ä½ é€šè¿‡å¼•ç”¨æ“ä½œå³å€¼ã€‚å®ƒçš„è¯­æ³•æ˜¯åœ¨ç±»å‹åé¢åŠ ä¸Š `&&`ï¼Œä¾‹å¦‚ï¼š`int&&` è¡¨ç¤ºä¸€ä¸ªå³å€¼å¼•ç”¨ã€‚

- **å³å€¼å¼•ç”¨çš„ç”¨é€”**ï¼š

    - **ç§»åŠ¨è¯­ä¹‰**ï¼š**å…è®¸é€šè¿‡ç§»åŠ¨ï¼ˆè€Œä¸æ˜¯å¤åˆ¶ï¼‰èµ„æºæ¥ä¼˜åŒ–æ€§èƒ½**ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæ¶‰åŠå¤§é‡æ•°æ®çš„å¯¹è±¡ï¼ˆå¦‚å¤§æ•°ç»„ã€å­—ç¬¦ä¸²ç­‰ï¼‰ã€‚
    - **å®Œç¾è½¬å‘**ï¼šåœ¨æ¨¡æ¿ç¼–ç¨‹ä¸­ä½¿ç”¨ï¼Œå…è®¸å°†å‡½æ•°å‚æ•°å®Œç¾è½¬å‘ç»™å¦ä¸€ä¸ªå‡½æ•°ã€‚

- **å³å€¼å¼•ç”¨çš„ç¤ºä¾‹**ï¼š

    ```cpp
    int x = 10;
    int&& rvalueRef = 10; // 10 æ˜¯å³å€¼ï¼ŒrvalueRef æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨ã€‚
    ```

#### 3. `std::move()` çš„ä½œç”¨

`std::move()` æ˜¯ C++ æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œ**ç”¨äºå°†ä¸€ä¸ªå·¦å€¼æ˜¾å¼åœ°è½¬æ¢ä¸ºå³å€¼å¼•ç”¨**ã€‚è¿™ç§è½¬æ¢å…è®¸å¼€å‘è€…ä»¥å³å€¼å¼•ç”¨çš„æ–¹å¼æ¥å¤„ç†æœ¬åº”æ˜¯å·¦å€¼çš„å¯¹è±¡ï¼Œ**ä»è€Œè§¦å‘ç§»åŠ¨è¯­ä¹‰**ã€‚

- **ä¸ºä»€ä¹ˆéœ€è¦ `std::move()`**ï¼š

    - **ç§»åŠ¨è¯­ä¹‰**ï¼šåœ¨å®ç°å¯¹è±¡ç§»åŠ¨æ—¶ï¼ˆä¾‹å¦‚åœ¨ `std::vector` ä¸­ï¼‰ï¼Œä½ å¯ä»¥é€šè¿‡ `std::move()` å°†èµ„æºä»ä¸€ä¸ªå¯¹è±¡â€œ**ç§»åŠ¨**â€åˆ°å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯å¤åˆ¶å®ƒä»¬ã€‚**è¿™æ ·å¯ä»¥é¿å…ä¸å¿…è¦çš„èµ„æºåˆ†é…å’Œé‡Šæ”¾**ï¼Œæå¤§æé«˜æ€§èƒ½ã€‚
    - **é¿å…å¤åˆ¶**ï¼šé€šè¿‡ `std::move()`ï¼Œä½ å¯ä»¥æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œä½ ä¸å†éœ€è¦æŸä¸ªå¯¹è±¡çš„å€¼ï¼Œæ‰€ä»¥å¯ä»¥å°†å…¶èµ„æºç§»åŠ¨åˆ°å¦ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚

- **`std::move()` çš„ç¤ºä¾‹**ï¼š

    ```cpp
    #include <iostream>
    #include <string>
    #include <utility> // std::move
    
    int main() {
        std::string str = "Hello, World!";
        std::string newStr = std::move(str); // str çš„å†…å®¹è¢«ç§»åŠ¨åˆ° newStr ä¸­ã€‚
    
        std::cout << "str: " << str << std::endl;    // str ç°åœ¨å¯èƒ½ä¸ºç©ºã€‚
        std::cout << "newStr: " << newStr << std::endl; // newStr æ‹¥æœ‰ "Hello, World!"ã€‚
        return 0;
    }
    ```

    **è¾“å‡º**ï¼š

    ```makefile
    str: 
    newStr: Hello, World!
    ```

    åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`std::move(str)` å°† `str` è½¬æ¢ä¸ºä¸€ä¸ªå³å€¼å¼•ç”¨ï¼Œè¿™æ · `newStr` å¯ä»¥æ¥ç®¡ `str` çš„èµ„æºï¼Œè€Œä¸éœ€è¦å¤åˆ¶å­—ç¬¦ä¸²çš„å†…å®¹ã€‚`str` åœ¨ç§»åŠ¨åï¼Œå…¶å†…éƒ¨èµ„æºï¼ˆå¦‚å­—ç¬¦ä¸²æ•°æ®ï¼‰è¢«è½¬ç§»åˆ° `newStr`ï¼Œå› æ­¤ `str` å˜ä¸ºç©ºæˆ–å¤„äºæœªå®šä¹‰çŠ¶æ€ã€‚

#### 4. ç§»åŠ¨è¯­ä¹‰ä¸å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ

å½“å¯¹è±¡çš„èµ„æºè¢«ç§»åŠ¨åï¼ŒåŸå¯¹è±¡é€šå¸¸ä¼šè¢«æ¸…ç©ºæˆ–ç½®äºä¸€ç§å®‰å…¨çš„â€œç©ºâ€çŠ¶æ€ã€‚ä½ ä¸åº”å†ä¾èµ–æˆ–ä½¿ç”¨å·²ç§»åŠ¨çš„å¯¹è±¡ï¼Œé™¤éæ˜ç¡®çŸ¥é“å®ƒå¤„äºä»€ä¹ˆçŠ¶æ€ã€‚

- ç§»åŠ¨æ„é€ å‡½æ•°ï¼š

    - å½“ä¸€ä¸ªå¯¹è±¡è¢«ç§»åŠ¨æ—¶ï¼Œé€šå¸¸ä¼šè°ƒç”¨å®ƒçš„ç§»åŠ¨æ„é€ å‡½æ•°ã€‚ç§»åŠ¨æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼Œå¹¶å°†èµ„æºä»æ—§å¯¹è±¡ç§»åŠ¨åˆ°æ–°å¯¹è±¡ã€‚

    - ç¤ºä¾‹ï¼š

        ```cpp
        class MyClass {
        public:
            MyClass() : data(new int[100]) {}
            ~MyClass() { delete[] data; }
        
            // ç§»åŠ¨æ„é€ å‡½æ•°
            MyClass(MyClass&& other) noexcept : data(other.data) {
                other.data = nullptr; // æ—§å¯¹è±¡çš„æŒ‡é’ˆè®¾ä¸º nullptrï¼Œè¡¨ç¤ºèµ„æºå·²è¢«è½¬ç§»ã€‚
            }
        
        private:
            int* data;
        };
        ```

#### 5. `std::move()` ä¸å³å€¼å¼•ç”¨çš„é€šä¿—ç†è§£

- **å³å€¼å¼•ç”¨**ï¼šä½ å¯ä»¥æŠŠå³å€¼å¼•ç”¨çœ‹ä½œæ˜¯ä¸€ä¸ªèƒ½å¤Ÿæ¥ç®¡â€œä¸´æ—¶å¯¹è±¡â€æ‰€æœ‰æƒçš„â€œç‰¹æ®ŠæŒ‡é’ˆâ€ï¼Œå®ƒå¯ä»¥ç›´æ¥æ“ä½œè¿™äº›ä¸´æ—¶å¯¹è±¡è€Œä¸ä¼šé¢å¤–å¤åˆ¶æ•°æ®ã€‚
- **`std::move()`**ï¼šå®ƒå¹¶ä¸æ˜¯çœŸæ­£â€œç§»åŠ¨â€äº†ä»€ä¹ˆä¸œè¥¿ï¼Œè€Œæ˜¯â€œè½¬æ¢â€äº†ä¸€ä¸ªå·¦å€¼ï¼Œä½¿å…¶å˜å¾—å¯ä»¥è¢«è§†ä¸ºå³å€¼ï¼ˆä¸´æ—¶å¯¹è±¡ï¼‰ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä½¿ç”¨å³å€¼å¼•ç”¨æ¥æ“ä½œå®ƒã€‚å…¶èƒŒåæ˜¯ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œå‡å°‘ä¸å¿…è¦çš„èµ„æºå¤åˆ¶ã€‚

#### move æ€»ç»“

- **å³å€¼å¼•ç”¨**ï¼ˆ`int&&`ï¼‰å…è®¸ä½ æ•è·å’Œæ“ä½œä¸´æ—¶å¯¹è±¡ï¼Œä»è€Œå®ç°æ›´é«˜æ•ˆçš„èµ„æºç®¡ç†ã€‚
- **`std::move()`** æ˜¯ä¸€ç§æ˜¾å¼çš„ç±»å‹è½¬æ¢å·¥å…·ï¼Œå°†å·¦å€¼è½¬æ¢ä¸ºå³å€¼å¼•ç”¨ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨å¯ä»¥â€œå®‰å…¨åœ°â€ç§»åŠ¨è¿™ä¸ªå¯¹è±¡çš„èµ„æºã€‚
- ä½¿ç”¨ `std::move()` å’Œå³å€¼å¼•ç”¨ï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„å¤åˆ¶æ“ä½œï¼Œä¼˜åŒ–ä»£ç çš„æ‰§è¡Œæ•ˆç‡ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§é‡æ•°æ®çš„å¯¹è±¡æ—¶ã€‚

### C++ ranges åŒ…

> è¯¥åŒ…ä½äº `#include <algorithm>`

```cpp
#include <algorithm>

std::vector<int> vec = {1, 2, 3};

ranges::sort(vec);

ranges::for_each(vec, [](int& n) { n *= 2; });

ranges::find(vec, 1);

int cnt = ranges::count_if(vec, [&](int x) { return x % 2 == 0; });

// åŸåœ°å»é‡: ç§»é™¤èŒƒå›´å†…çš„é‡å¤è¿ç»­å…ƒç´ ï¼Œ unique() è¿”å›å»é‡åæœ€å¤§å€¼çš„æŒ‡é’ˆä½ç½®
auto it = std::ranges::unique(vec);

//constexpr const T& max( const T& a, const T& b, Comp comp = {}, Proj proj = {} );
int mx = ranges::max(1, 9999);
vector<vector<int>> nums;
//constexpr T max( std::initializer_list<T> r, Comp comp = {}, Proj proj = {} );
int max_end = ranges::max(nums, {}, [](const auto& a) { return a[1]; })[1];

// fill å¿«é€Ÿå¡«å……
int min_d[26];
ranges::fill(min_d, INT_MAX);

ranges::lower_bound(nums, 0);

ranges::upper_bound(nums, 0);

ranges::reverse(vec);

auto [left, right] = ranges::equal_range(nums, 0);

ranges::nth_element(ans, ans.end() - k);

bool isEmpty = ranges::empty(vec);

auto size = ranges::size(vec);

auto begin = std::ranges::begin(vec);
auto end = std::ranges::end(vec);

auto dist = std::ranges::distance(vec.begin() + 1, vec.end() - 1);
auto distance = std::ranges::distance(vec);
```

### å…³äº `static auto x = []()` çš„ç”¨æ³•è§£æ

> æ¨èé˜…è¯»ï¼š[`å…³äº static auto x = []() çš„ç”¨æ³•è§£æ`](https://blog.csdn.net/weixin_42658928/article/details/82974658)

```cpp
static const auto _ = []() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    return nullptr;
}();

class Solution {
public:
    // å®˜æ–¹é¢˜è§£
    bool canThreePartsEqualSum(vector<int>& arr) {
        int s = accumulate(arr.begin(), arr.end(), 0);
        if(s % 3 != 0)
            return false;
        int target = s / 3;
        int n = arr.size(), i = 0, cur = 0;
        while(i < n) {
            cur += arr[i];
            if(cur == target)
                break;
            ++i;
        }
        if(cur != target)
            return false;
        int j = i + 1;
        // æ»¡è¶³æœ€åä¸¤ä¸ªæ•°ç»„éç©º
        while(j + 1 < n) {
            cur += arr[j];
            if(cur == target * 2)
                return true;
            ++j;
        }
        return false;
    }
};
```

#### `ios::sync_with_stdio(false)`

- **ä½œç”¨**: è¿™è¡Œä»£ç ç”¨äºè§£é™¤ C++ æ ‡å‡†æµï¼ˆcin, cout, ç­‰ï¼‰ä¸ C æ ‡å‡†æµï¼ˆscanf, printf, ç­‰ï¼‰çš„åŒæ­¥ã€‚
- **åŸå› **: åœ¨ C++ ä¸­ï¼Œcin å’Œ cout é»˜è®¤ä¸ scanf å’Œ printf è¿™ç±» C çš„è¾“å…¥è¾“å‡ºæµåŒæ­¥ï¼Œä»¥ç¡®ä¿å®ƒä»¬å¯ä»¥æ··åˆä½¿ç”¨è€Œä¸ä¼šå‡ºç°é¡ºåºé—®é¢˜ã€‚ç„¶è€Œï¼Œè¿™ç§åŒæ­¥ä¼šå¸¦æ¥æ€§èƒ½å¼€é”€ã€‚
- **æ•ˆæœ**: å°† ios::sync_with_stdio(false) è®¾ä¸º false åï¼Œcin å’Œ cout ä¸å†ä¸ C æ ‡å‡†æµåŒæ­¥ï¼Œå› æ­¤å¯ä»¥æé«˜è¾“å…¥è¾“å‡ºçš„æ•ˆç‡ï¼Œä½†è¿™ä¹Ÿæ„å‘³ç€ä½ ä¸åº”å†æ··ç”¨ C å’Œ C++ çš„è¾“å…¥è¾“å‡ºå‡½æ•°ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚

#### `cin.tie(nullptr)`

- **ä½œç”¨**: cin.tie(nullptr) ç”¨äºè§£é™¤ cin å’Œ cout ä¹‹é—´çš„ç»‘å®šå…³ç³»ã€‚
- **åŸå› **: é»˜è®¤æƒ…å†µä¸‹ï¼Œcin å’Œ cout æ˜¯ç»‘å®šåœ¨ä¸€èµ·çš„ï¼Œè¿™æ„å‘³ç€åœ¨æ¯æ¬¡ä½¿ç”¨ cin è¿›è¡Œè¾“å…¥æ“ä½œå‰ï¼Œcout ä¼šè‡ªåŠ¨åˆ·æ–°ç¼“å†²åŒºï¼Œä»¥ç¡®ä¿è¾“å…¥è¾“å‡ºé¡ºåºçš„æ­£ç¡®æ€§ã€‚ç„¶è€Œï¼Œè¿™ç§ç»‘å®šå…³ç³»åœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶ä¼šå¸¦æ¥æ€§èƒ½æŸå¤±ã€‚
- **æ•ˆæœ**: å°† cin çš„ç»‘å®šå…³ç³»è®¾ä¸º nullptr åï¼Œcout ä¸ä¼šè‡ªåŠ¨åˆ·æ–°ç¼“å†²åŒºï¼Œä»è€Œæé«˜äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚ä½†è¿™æ„å‘³ç€ä½ éœ€è¦æ‰‹åŠ¨åˆ·æ–°è¾“å‡ºç¼“å†²åŒºï¼ˆé€šè¿‡ cout.flush() æˆ– endl ç­‰æ–¹å¼ï¼‰ï¼Œä»¥ç¡®ä¿è¾“å‡ºé¡ºåºæ­£ç¡®ã€‚

#### æ€»ç»“

è¿™ä¸¤è¡Œä»£ç é€šå¸¸ç”¨äºç«èµ›ç¼–ç¨‹æˆ–éœ€è¦å¿«é€Ÿå¤„ç†å¤§é‡è¾“å…¥è¾“å‡ºçš„ç¨‹åºä¸­ï¼Œèƒ½å¤Ÿæ˜¾è‘—æé«˜è¾“å…¥è¾“å‡ºçš„æ€§èƒ½ã€‚ç„¶è€Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®ƒä»¬å¯èƒ½ä¼šæ”¹å˜è¾“å…¥è¾“å‡ºè¡Œä¸ºçš„æŸäº›ç»†èŠ‚ï¼Œå› æ­¤åœ¨å¯ç”¨è¿™äº›ä¼˜åŒ–æ—¶åº”ç¡®ä¿ä¸æ··ç”¨ C å’Œ C++ çš„è¾“å…¥è¾“å‡ºå‡½æ•°ï¼Œå¹¶åœ¨éœ€è¦æ—¶æ‰‹åŠ¨åˆ·æ–°è¾“å‡ºç¼“å†²åŒºã€‚

- ä½¿ç”¨ `#include<bits/stdc++.h>` æŒ‡ä»¤ï¼Œæ‚¨å¯ä»¥è½»æ¾å°†å¤§å¤šæ•°æ ‡å‡† C++ å¤´æ–‡ä»¶åŒ…å«åœ¨ä»£ç ä¸­ï¼ˆé¢è¯•ä¸­çš„ ACM æ¨¡å¼ç»å¸¸ä½¿ç”¨è¯¥æ ‡å‡†åº“å‡½æ•°ï¼‰
- `bits/stdc++.h` æ˜¯ GCC ä¸“ç”¨çš„å¤´æ–‡ä»¶ï¼Œ**åœ¨ä½¿ç”¨ Clang çš„ MacOS ä¸Šé»˜è®¤ä¸å¯ç”¨**ã€‚è¦ä¿®å¤â€œæ–‡ä»¶æœªæ‰¾åˆ°â€é”™è¯¯ï¼Œæ‚¨å¯ä»¥åˆ›å»ºè‡ªå·±çš„ `stdc++.h` æ–‡ä»¶å¹¶å°†å…¶æ”¾åœ¨ Clang å¯ä»¥æ‰¾åˆ°çš„ç›®å½•ä¸­ã€‚

### ç±»å‹è½¬æ¢ `static_cast<int>(val)`

C++ æä¾›äº†å‡ ç§ä¸åŒçš„ç±»å‹è½¬æ¢æ“ä½œç¬¦ï¼Œæ¯ç§éƒ½æœ‰ç‰¹å®šçš„ç”¨é€”å’Œä½¿ç”¨åœºæ™¯ï¼š

- static_castï¼šåŸºæœ¬æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢ï¼ˆå¦‚ int è½¬ floatï¼‰
- dynamic_castï¼šç”¨äºå¤„ç†åŒ…å«å¤šæ€çš„ç±»å±‚æ¬¡ç»“æ„çš„ç±»å‹è½¬æ¢
- const_castï¼šä¿®æ”¹å˜é‡çš„ const æˆ– volatile ä¿®é¥°ç¬¦ï¼Œå…è®¸å»é™¤æˆ–å¢åŠ è¿™äº›ä¿®é¥°ç¬¦
- reinterpret_castï¼šæœ€å±é™©çš„ç±»å‹è½¬æ¢æ“ä½œç¬¦ï¼Œä¸»è¦ç”¨äºåœ¨æŒ‡é’ˆæˆ–å¼•ç”¨ä¹‹é—´è¿›è¡Œéå¸¸è§„çš„ã€éå®‰å…¨çš„ç±»å‹è½¬æ¢

### push() ä¸ emplace()

å¯¹äº map ä¹Ÿå¥½ï¼Œpair ä¹Ÿå¥½ï¼Œæˆ–è€…æ˜¯å¯¹è±¡ï¼Œemplace éƒ½èƒ½ç›´æ¥æ„é€ ã€‚

```cpp
std::map<int, std::string> myMap;

// ä½¿ç”¨ insert å’Œ std::make_pair
myMap.insert(std::make_pair(1, "one"));

// ä½¿ç”¨ emplaceï¼Œç›´æ¥ä¼ å…¥æ„é€  pair çš„å‚æ•°
myMap.emplace(2, "two");
```

### C/C++ `__builtin` è¶…å®ç”¨ä½è¿ç®—åº“å‡½æ•°

#### `__builtin_ctz()` / `__builtin_ctzll()`

è¿”å›æ‹¬å·å†…æ•°å­—çš„**äºŒè¿›åˆ¶**è¡¨ç¤ºæ•°**æœ«å°¾ 0 çš„ä¸ªæ•°**

```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
    // è¾“å‡º 3: 8 = 1000, æœ«å°¾ 3 ä¸ª 0
    cout << __builtin_ctz(8) << endl ;
    return 0;
}
```

#### `__builtin_clz()` / `__builtin_clzll()`

è¿”å›æ‹¬å·å†…æ•°å­—çš„**äºŒè¿›åˆ¶**è¡¨ç¤ºæ•°**å‰å¯¼ 0 çš„ä¸ªæ•°**

```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
    // è¾“å‡º 28:
    // 8 = 0000 0000 0000 0000 0000 0000 0000 1000
    // æ•´å‹(int)ä¸º 32 ä½, æœ‰ 28 ä¸ªå‰å¯¼ 0
    // å¦‚æœæ¢æˆ __builtin_clzll åˆ™è¾“å‡º 60
    cout << __builtin_clz(8) << endl ;
    return 0 ;
}
```

#### `__builtin_popcount()`

è¿”å›æ‹¬å·å†…æ•°å­—çš„**äºŒè¿›åˆ¶è¡¨ç¤ºæ•° 1 çš„ä¸ªæ•°**

```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
    // è¾“å‡º 4: 15 = 1111, 1 çš„ä¸ªæ•°æœ‰ 4 ä¸ª
    cout << __builtin_popcount(15) << endl ;
    return 0 ;
}
```

#### `__builtin_parity()`

åˆ¤æ–­æ‹¬å·ä¸­æ•°å­—çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ•° 1 çš„ä¸ªæ•°çš„å¥‡å¶æ•°ï¼ˆå¶æ•°è¿”å› 0ï¼Œå¥‡æ•°è¿”å› 1ï¼‰

```cpp
#include <bits/stdc++/h>
using namespace std;

int main() {
    // è¾“å‡º 0: 15 = 1111, 1 çš„ä¸ªæ•°ä¸º 4 (å¶æ•°ä¸ª)
    cout << __builtin_parity(15) << endl ;
    return 0 ;
}
```

#### `__builtin_ffs()`

è¿”å›æ‹¬å·ä¸­æ•°å­—çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ•°çš„æœ€åä¸€ä¸ª 1 åœ¨ç¬¬å‡ ä½ï¼ˆä»åå¾€å‰ç®—ï¼‰

```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
    // è¾“å‡º 4: 8 = 1000, æœ€åä¸€ä¸ª 1 åœ¨ç¬¬å››ä½
    cout << __builtin_ffs(8) << Lendl ;
    return 0 ;
}
```

## STL

> æ¨èé˜…è¯»ï¼šhttps://www.apiref.com/cpp-zh/cpp/container.html

å®¹å™¨åº“æ˜¯ç±»æ¨¡æ¿ä¸ç®—æ³•çš„æ±‡é›†ï¼Œå…è®¸ç¨‹åºå‘˜ç®€å•åœ°è®¿é—®å¸¸è§æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚é˜Ÿåˆ—ã€é“¾è¡¨å’Œæ ˆã€‚

æœ‰ä¸‰ç±»å®¹å™¨ï¼š

- é¡ºåºå®¹å™¨
- å…³è”å®¹å™¨
- æ— åºå…³è”å®¹å™¨

å®¹å™¨ç®¡ç†ä¸ºå…¶å…ƒç´ åˆ†é…çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶æä¾›**ç›´æ¥æˆ–é—´æ¥åœ°é€šè¿‡è¿­ä»£å™¨**ï¼ˆæ‹¥æœ‰ç±»ä¼¼æŒ‡é’ˆå±æ€§çš„å¯¹è±¡ï¼‰è®¿é—®å®ƒä»¬çš„å‡½æ•°ã€‚

C++ æ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰æä¾›äº†ä¸€ç³»åˆ—å¼ºå¤§çš„å®¹å™¨ï¼Œè¿™äº›å®¹å™¨å°è£…äº†å¸¸è§çš„æ•°æ®ç»“æ„ï¼Œæ”¯æŒå„ç§æ“ä½œå’Œç®—æ³•ã€‚

ä¸€æ—¦ STL å®¹å™¨ä¸­æœ‰ `find()` æ–¹æ³•ï¼Œé‚£ä¹ˆåˆ¤æ–­æ–¹æ³•ä¸€èˆ¬æ˜¯ `stl.find(val) != stl.end()`.

âš ï¸ find å‡½æ•°åªæœ‰åœ¨ã€Œå…³è”å®¹å™¨ã€å’Œã€Œstringã€ä¸­å­˜åœ¨ï¼š

- å‰è€…è¿”å›è¿­ä»£å™¨ iterator
- åè€… If no matches were found, the function returns [string::npos](http://www.cplusplus.com/string::npos).

![image-20240903061556605](https://cdn.jsdelivr.net/gh/Wu-yikun/OSS/PicGo/202409030615939.png)

### é¡ºåºå®¹å™¨

> é¡ºåºå®¹å™¨å®ç°èƒ½æŒ‰**é¡ºåºè®¿é—®**çš„æ•°æ®ç»“æ„

- `array`ï¼šé™æ€çš„è¿ç»­æ•°ç»„
- `vector`ï¼šåŠ¨æ€çš„è¿ç»­æ•°ç»„
- `deque`ï¼šåŒç«¯é˜Ÿåˆ—
- `forward_list`ï¼šå•é“¾è¡¨
- `list`ï¼šåŒé“¾è¡¨

### å…³è”å®¹å™¨

> å…³è”å®¹å™¨å®ç°èƒ½å¿«é€ŸæŸ¥æ‰¾ã€Œ $O(log n)$ å¤æ‚åº¦ã€çš„æ•°æ®ç»“æ„

- `set`ï¼š**å”¯ä¸€**é”®çš„é›†åˆï¼ŒæŒ‰ç…§é”®æ’åº
- `map`ï¼šé”®å€¼å¯¹çš„é›†åˆï¼ŒæŒ‰ç…§é”®æ’åºï¼Œé”®æ˜¯**å”¯ä¸€**çš„
- `multiset`ï¼šé”®çš„é›†åˆï¼ŒæŒ‰ç…§é”®æ’åº
- `multimap`ï¼šé”®å€¼å¯¹çš„é›†åˆï¼ŒæŒ‰ç…§é”®æ’åº

### æ— åºå…³è”å®¹å™¨

> æ— åºå…³è”å®¹å™¨æä¾›èƒ½å¿«é€ŸæŸ¥æ‰¾ã€Œå‡æ‘Š $O(1)$ï¼Œæœ€åæƒ…å†µ $O(n)$ å¤æ‚åº¦ã€çš„æ— åºï¼ˆ**å“ˆå¸Œ**ï¼‰æ•°æ®ç»“æ„

- `unordered_set`ï¼š**å”¯ä¸€**é”®çš„é›†åˆï¼ŒæŒ‰ç…§é”®ç”Ÿæˆ**æ•£åˆ—**
- `unordered_map`ï¼šé”®å€¼å¯¹çš„é›†åˆï¼ŒæŒ‰ç…§é”®ç”Ÿæˆ**æ•£åˆ—**ï¼Œé”®æ˜¯**å”¯ä¸€**çš„
- `unordered_multiset`ï¼šé”®çš„é›†åˆï¼ŒæŒ‰ç…§é”®ç”Ÿæˆæ•£åˆ—
- `unordered_multimap`ï¼šé”®å€¼å¯¹çš„é›†åˆï¼ŒæŒ‰ç…§é”®ç”Ÿæˆæ•£åˆ—

### å®¹å™¨é€‚é…å™¨

> å®¹å™¨é€‚é…å™¨**æä¾›é¡ºåºå®¹å™¨çš„ä¸åŒæ¥å£**

- `stack`ï¼šé€‚é…ä¸€ä¸ªå®¹å™¨ä»¥æä¾›æ ˆï¼ˆLIFO æ•°æ®ç»“æ„ï¼‰
- `queue`ï¼šé€‚é…ä¸€ä¸ªå®¹å™¨ä»¥æä¾›é˜Ÿåˆ—ï¼ˆFIFO æ•°æ®ç»“æ„ï¼‰

### è¿­ä»£å™¨éæ³•åŒ–

- **åªè¯»æ–¹æ³•å†³ä¸éæ³•åŒ–è¿­ä»£å™¨æˆ–å¼•ç”¨**
- **ä¿®æ”¹å®¹å™¨å†…å®¹çš„æ–¹æ³•å¯èƒ½éæ³•åŒ–è¿­ä»£å™¨å’Œ/æˆ–å¼•ç”¨**

ä¸¾ä¸ªä¾‹å­ï¼š

```c++
#include <iostream>
#include <vector>

using namespace std;

template<typename T>
std::ostream &operator<<(std::ostream &s, const vector<T> &v) {
    s.put('[');
    char comma[3] = {'\0', ' ', '\0'};
    for (const auto &e: v) {
        s << comma << e;
        comma[0] = ',';
    }
    return s << ']';
}

int main() {
    vector<int> vec{1, 2, 3, 4, 5, 6};
    auto it = vec.begin();
    vec.insert(it, 1);      // success
    vec.insert(it, 666);    // fail: è¿­ä»£å™¨éæ³•åŒ–(å› ä¸ºåœ¨ä¸Šä¸€æ­¥åå®¹å™¨æ‰©å®¹)
    cout << vec.capacity() << endl;    // æ‰©å®¹: é‡æ–°åˆ†é…å†…å­˜ç©ºé—´

    it = vec.begin();   // é‡æ–°æŒ‡å‘æ–°å†…å­˜åœ°å€
    vec.insert(it, 666);    // success
    vec.insert(it, 666);    // success
    vec.insert(it, 666);    // success
    cout << vec << endl;


    auto i = vec.begin();
    vec.erase(i);   // success
    vec.erase(i);   // success

    i = vec.end() - 1;
    vec.erase(i);   // success
    vec.erase(i);   // fail: è¿­ä»£å™¨éæ³•åŒ–
    cout << vec << endl;

    return 0;
}
```

>è¿­ä»£å™¨éæ³•åŒ–æ€»ç»“è¡¨æ ¼ï¼š

![](https://cdn.jsdelivr.net/gh/Wu-yikun/OSS/PicGo/202503061015924.jpg)

è¿™é‡Œçš„**æ’å…¥**æŒ‡ä»£ä»»ä½•æ·»åŠ ä¸€æˆ–å¤šä¸ªå…ƒç´ åˆ°å®¹å™¨çš„æ–¹æ³•ï¼š

> å› ä¸ºæ’å…¥è¿‡ç¨‹å¯èƒ½ä¼šå¯¼è‡´**å®¹å™¨æ‰©å®¹**ï¼ˆ`capacity` å˜åŒ–ï¼‰ï¼Œæ‰©å®¹åä¼šé‡Šæ”¾åŸæœ‰çš„ç©ºé—´ï¼Œè€Œè¿­ä»£å™¨ä¾ç„¶æŒ‡å‘åŸæœ‰ç©ºé—´ä¸­çš„ä½ç½®ï¼Œæ­¤æ—¶è¯¥è¿­ä»£å™¨å˜æˆé‡æŒ‡é’ˆï¼Œå¯¼è‡´æ— æ³•è®¿é—®ï¼

- `insert`
- `push_back`
- `push_front`
- `operator[]` ä¹Ÿç®—ï¼Œå› ä¸ºä¹Ÿå­˜åœ¨æ’å…¥çš„å¯èƒ½æ€§

è€Œ**æ“¦é™¤**æŒ‡ä»£ä»»ä½•ä»å®¹å™¨ç§»é™¤ä¸€æˆ–å¤šä¸ªå…ƒç´ çš„æ–¹æ³•ï¼š

> æ“¦é™¤åè¿­ä»£å™¨å¤±æ•ˆæ˜¯å› ä¸ºåˆ é™¤çš„æ˜¯æœ€åä¸€ä¸ªæœ‰æ•ˆå…ƒç´ ï¼Œç„¶ååˆ é™¤åè¯¥**è¿­ä»£å™¨æŒ‡å‘å®¹å™¨çš„éæœ‰æ•ˆä½ç½®**ï¼

![](http://tva1.sinaimg.cn/large/006V2BYXly1h1a8q194rxj30hb04gt94.jpg)

- `erase`
- `pop_back`
- `pop_front`
- `clear`

å°¾åè¿­ä»£å™¨éœ€è¦ç‰¹åˆ«ç•™æ„ã€‚é€šå¸¸åƒæŒ‡å‘æœªè¢«æ“¦é™¤å…ƒç´ çš„æ­£å¸¸è¿­ä»£å™¨ä¸€èˆ¬éæ³•åŒ–æ­¤è¿­ä»£å™¨ã€‚

æ•… `std::set::end` å†³ä¸è¢«éæ³•åŒ–ï¼Œ`std::unordered_set::end` ä»…åœ¨é‡å“ˆå¸Œæ—¶è¢«éæ³•åŒ–ï¼Œ`std::vector::end` å§‹ç»ˆè¢«éæ³•åŒ–ï¼ˆå› ä¸ºå®ƒå§‹ç»ˆå‡ºç°åœ¨è¢«ä¿®æ”¹å…ƒç´ åï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚

### STL æˆå‘˜å‡½æ•°

> æˆå‘˜å‡½æ•°ä¸€è§ˆè¡¨

![](https://cdn.jsdelivr.net/gh/Wu-yikun/OSS/PicGo/202503061015186.jpg)

![](https://cdn.jsdelivr.net/gh/Wu-yikun/OSS/PicGo/202503061015983.jpg)

### bitsetï½œä½å›¾

`std::bitset` ä¹Ÿç§°ã€Œä½å›¾ã€ï¼Œéå¸¸å¸¸ç”¨

```cpp
template <size_t N> 
class bitset
```

bitset çš„åˆå§‹åŒ–æ–¹å¼ï¼š

```cpp
std::bitset<N> bitset1; // åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º N çš„ bitsetï¼Œæ‰€æœ‰ä½éƒ½è¢«åˆå§‹åŒ–ä¸º 0
std::bitset<N> bitset2(value); // ä½¿ç”¨äºŒè¿›åˆ¶æ•´æ•° value åˆå§‹åŒ–ä¸€ä¸ªé•¿åº¦ä¸º N çš„ bitset
std::bitset<32> bitset21(0xffff);          // bits 0 ... 15 are set to 1; 16 ... 31 are 0
std::bitset<128> bitset22(0xffff);         // bits 32 through 127 initialized to zero
 
std::bitset<N> bitset3(string); // ä½¿ç”¨äºŒè¿›åˆ¶å­—ç¬¦ä¸² string åˆå§‹åŒ–ä¸€ä¸ªé•¿åº¦ä¸º N çš„ bitset
string str("1111111000000011001101");
std::bitset<N> bitset31(str);    //ç”¨æ•´ä¸ªå­—ç¬¦ä¸²æ¥åˆå§‹åŒ–bitset
std::bitset<32> bitset32(str, 5, 4); // 4 bits starting at str[5], 1100
std::bitset<32> bitset33(str, str.size() - 4);     // use last 4 characters
 
std::bitset<N> bitset4(bitset); // ä½¿ç”¨å¦ä¸€ä¸ª bitset åˆå§‹åŒ–ä¸€ä¸ªé•¿åº¦ä¸º N çš„ bitset
std::bitset<n> bitset5(bitset4, pos, n);	  //bitset5æ˜¯bitset4ä¸­ä»ä½ç½®poså¼€å§‹çš„nä¸ªä½çš„å‰¯æœ¬
```

æ–¹æ³•ï¼š

| æ–¹æ³•         | åŠŸèƒ½                                           |
| ------------ | ---------------------------------------------- |
| b.any()      | b ä¸­æ˜¯å¦å­˜åœ¨ç½®ä¸º 1 çš„äºŒè¿›åˆ¶ä½ï¼Ÿ                |
| b.none()     | b ä¸­ä¸å­˜åœ¨ç½®ä¸º 1 çš„äºŒè¿›åˆ¶ä½ï¼Ÿ                  |
| b.count()    | b ä¸­ç½®ä¸º 1 çš„äºŒè¿›åˆ¶ä½çš„ä¸ªæ•°                    |
| b.size()     | b ä¸­äºŒè¿›åˆ¶ä½çš„ä¸ªæ•°                             |
| b[pos]       | è®¿é—® b ä¸­åœ¨ pos å¤„çš„äºŒè¿›åˆ¶ä½                   |
| b.test(pos)  | b ä¸­åœ¨ pos å¤„çš„äºŒè¿›åˆ¶æ˜¯å¦ä¸º 1ï¼Ÿ                |
| b.set()      | æŠŠ b ä¸­æ‰€æœ‰äºŒè¿›åˆ¶ä½éƒ½ç½®ä¸º 1                    |
| b.set(pos)   | æŠŠ b ä¸­åœ¨ pos å¤„çš„äºŒè¿›åˆ¶ä½ç½®ä¸º 1               |
| b.reset()    | æŠŠ b ä¸­æ‰€æœ‰äºŒè¿›åˆ¶ä½éƒ½ç½®ä¸º 0                    |
| b.reset(pos) | æŠŠ b ä¸­åœ¨ pos å¤„çš„äºŒè¿›åˆ¶ä½ç½®ä¸º 0               |
| b.flip()     | æŠŠ b ä¸­æ‰€æœ‰äºŒè¿›åˆ¶ä½å–å                        |
| b.flip(pos)  | æŠŠ b ä¸­åœ¨ pos å¤„çš„äºŒè¿›åˆ¶ä½å–å                 |
| b.to_ulong() | ç”¨ b ä¸­åŒæ ·çš„äºŒè¿›åˆ¶ä½è¿”å›ä¸€ä¸ª unsigned long å€¼ |
| `os << b`      | æŠŠ b ä¸­çš„ä½é›†è¾“å‡ºåˆ° os æµ                      |

```cpp
std::bitset<4> b1("1100");
size_t count = b1.count(); // count set bits
size_t size = b1.size();   // get number of bits
bool bit = b1.test(2);     // test bit at position 2
bool any = b1.any();       // check if any bit is set
bool none = b1.none();     // check if no bit is set
b1.flip();                 // flip all bits
```

è¿™äº›å‡½æ•°ä½¿å¾— `std::bitset` æˆä¸º**å¤„ç†ä½çº§åˆ«æ•°æ®**çš„å¼ºå¤§å·¥å…·ã€‚

`std::bitset` è¿˜æ”¯æŒã€Œä½æ“ä½œç¬¦ã€ã€ã€Œä½ç§»æ“ä½œç¬¦ã€å’Œã€Œæ¯”è¾ƒæ“ä½œç¬¦ã€ï¼š

```cpp
std::bitset<4> b1("1100");
std::bitset<4> b2("1010");
std::bitset<4> b3 = b1 & b2; // bitwise AND
std::bitset<4> b4 = b1 | b2; // bitwise OR
std::bitset<4> b5 = b1 ^ b2; // bitwise XOR
std::bitset<4> b6 = ~b1;     // bitwise NOT
```

```cpp
std::bitset<4> b1("1100");
std::bitset<4> b2 = b1 << 1; // left shift
std::bitset<4> b3 = b1 >> 1; // right shift
```

```cpp
std::bitset<4> b1("1100");
std::bitset<4> b2("1010");
bool equal = (b1 == b2); // compare bitsets
```

### string

`str[i]` å–åˆ°çš„æ˜¯ `char` å­—ç¬¦

`c_str()`ï¼šconst CharT* c_str() const;

> string å¯ä»¥åˆ©ç”¨ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•æ¨¡æ‹Ÿ stack

- `push_back()`

- `pop_back()`

`erase()`

`append()`

`length()`

- `find()`ï¼šfinds the first occurrence of the given substring

```cpp
#include <iomanip>
#include <iostream>
#include <string>

int main()
{
    std::string::size_type n;
    std::string const s = "This is a string"; /*
                             ^  ^  ^
                             1  2  3          */
 
    // search from beginning of string
    n = s.find("is");
 
    // search from position 5
    n = s.find("is", 5);
 
    // find a single character
    n = s.find('a');
 
    // find a single character
    n = s.find('q');
}
```

`rfind()`ï¼šfind the last occurrence of a substring

- `string::npos`ï¼šä¸€èˆ¬å’Œ `find()` æ­é…ä½¿ç”¨

```cpp
// string search functions return npos if nothing is found
std::string s = "test";
if (s.find('a') == s.npos)
    std::cout << "no 'a' in 'test'\n";
```

> æŸ¥æ‰¾ï¼ŒåŒ…æ‹¬å‰é¢ `find` ä¸ `rfind`

`find_first_of()`ï¼šsize_type find_first_of( const basic_string& `str`, size_type `pos` = 0 ) const;

`find_first_not_of()`

`find_last_of()`

`find_last_not_of()`

> operations

`starts_with()` [C++ 20]

`ends_with()` [C++ 20]

`contains()` [C++ 23]

`substr(size_type position = 0, size_type count = npos)`ï¼šè·å–å­ä¸²

> int/float è½¬ä¸º string

- `to_string`

- `to_wstring`

> string è½¬ä¸ºæ•°å€¼

- `stoi()`
- `stof()`
- `stod()`
- `stol()`
- `stoll()`

### array

`array` æ˜¯ä¸€ä¸ªå›ºå®šå¤§å°çš„æ•°ç»„å°è£…å®¹å™¨ã€‚

```cpp
std::array<int, 5> arr = {1, 2, 3, 4, 5};

// at(size_t index)
int value1 = arr.at(2);  	// value = 3
int value2 = arr[2];  		// value = 3

int first = arr.front();  	// first = 1
int last = arr.back();  	// last = 5

int* p = arr.data();  // p æ˜¯æŒ‡å‘ arr é¦–å…ƒç´ çš„æŒ‡é’ˆ

// size_t ä¸€èˆ¬ç”¨ä½œ size() çš„æ¥æ”¶å‚æ•°
size_t size = arr.size();  // size = 5

std::array<int, 0> ar;  // å®šä¹‰ä¸€ä¸ªç©ºçš„ std::array
bool isEmpty = ar.empty();  // isEmpty = true

std::array<int, 3> arr1 = {1, 2, 3};
std::array<int, 3> arr2 = {4, 5, 6};
arr1.swap(arr2);  // arr1 ç°åœ¨æ˜¯ {4, 5, 6}, arr2 ç°åœ¨æ˜¯ {1, 2, 3}
```

### vector

åŠ¨æ€æ•°ç»„ï¼Œæ”¯æŒéšæœºè®¿é—®ï¼Œå†…å­˜æ˜¯è¿ç»­çš„ã€‚

**å¸¸ç”¨æ–¹æ³•**ï¼š

- `push_back(value)`ï¼šåœ¨æœ«å°¾æ·»åŠ å…ƒç´ ã€‚
- `pop_back()`ï¼šåˆ é™¤æœ«å°¾å…ƒç´ ã€‚
- `insert(vec.begin(), value)`ï¼šåœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ ã€‚
- `erase(vec.begin())`ï¼šåˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚
- `clear()`ï¼šæ¸…ç©ºå®¹å™¨ã€‚
- `resize(n)`ï¼šè°ƒæ•´å®¹å™¨å¤§å°ã€‚
- `at(index)`ï¼šè®¿é—®æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚
- `front()`ï¼šè®¿é—®ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚
- `back()`ï¼šè®¿é—®æœ€åä¸€ä¸ªå…ƒç´ ã€‚
- `empty()`ï¼šæ£€æŸ¥å®¹å™¨æ˜¯å¦ä¸ºç©ºã€‚
- `size()`ï¼šè¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°é‡ã€‚
- `capacity()`ï¼šè¿”å›å®¹å™¨çš„å®¹é‡ã€‚
- `reserve(n)`ï¼šé¢„ç•™è‡³å°‘ n ä¸ªå…ƒç´ çš„ç©ºé—´ã€‚

### deque

åŒç«¯é˜Ÿåˆ—ï¼Œæ”¯æŒåœ¨ä¸¤ç«¯å¿«é€Ÿæ’å…¥å’Œåˆ é™¤ã€‚å†…å­˜å¯èƒ½ä¸è¿ç»­ï¼Œæ”¯æŒå¸¸æ•°æ—¶é—´çš„éšæœºè®¿é—®ã€‚

- `push_back(value)`
- `push_front(value)`
- `pop_back()`
- `pop_front()`
- `front()`
- `back()`
- `erase(position)`
- `insert(position, value)`
- `at(index)`
- `empty()`
- `size()`

### set [æœ‰åº]

é›†åˆï¼Œå­˜å‚¨å”¯ä¸€å…ƒç´ ï¼Œ**å…ƒç´ æŒ‰é¡ºåºæ’åˆ—**ï¼Œåº•å±‚é€šå¸¸æ˜¯**çº¢é»‘æ ‘**ã€‚

æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(log n)$ã€‚

- `insert(value)`
- `emplace(value)`
- `erase(position)`
- `erase(value)`
- `find(value)`
- `count(value)`
- `empty()`
- `size()`
- `contains(value)` [C++ 20]

### multiset [æœ‰åº]

å…è®¸å­˜å‚¨**é‡å¤å…ƒç´ **çš„é›†åˆï¼Œå…ƒç´ æŒ‰é¡ºåºæ’åˆ—ï¼Œåº•å±‚é€šå¸¸æ˜¯**çº¢é»‘æ ‘**ã€‚

æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(log n)$ã€‚

> æ»‘åŠ¨çª—å£ + `multiset`

```cpp
// 1438. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„
class Solution {
public:
    int longestSubarray(vector<int>& nums, int limit) {
        multiset<int> ordered_set;
        int left = 0, ans = 0;
        for (int right = 0; right < nums.size(); right++) {
            ordered_set.insert(nums[right]);
            while (*ordered_set.rbegin() - *ordered_set.begin() > limit) {
                ordered_set.erase(ordered_set.find(nums[left]));
                left++;
            }
            ans = max(ans, right - left + 1);
        }
        return ans;
    }
};
```

- `insert(value)`ï¼šæ’å…¥å…ƒç´ ã€‚
- `erase(position)`ï¼šåˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚
- `erase(value)`ï¼šåˆ é™¤ä¸æŒ‡å®šå€¼ç›¸ç­‰çš„å…ƒç´ ã€‚
- `find(value)`ï¼šæŸ¥æ‰¾æŒ‡å®šå€¼çš„å…ƒç´ ã€‚
- `count(value)`ï¼šç»Ÿè®¡ä¸æŒ‡å®šå€¼ç›¸ç­‰çš„å…ƒç´ æ•°é‡ã€‚
- `clear()`ï¼šæ¸…ç©ºå®¹å™¨ã€‚
- `empty()`ï¼šæ£€æŸ¥å®¹å™¨æ˜¯å¦ä¸ºç©ºã€‚
- `size()`ï¼šè¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°é‡ã€‚

### map [æœ‰åº]

é”®å€¼å¯¹é›†åˆï¼ŒæŒ‰é”®æ’åºï¼Œé”®å”¯ä¸€ï¼Œåº•å±‚é€šå¸¸æ˜¯**çº¢é»‘æ ‘**ã€‚

æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(log n)$ã€‚

- `insert({key, value})`ï¼šæ’å…¥é”®å€¼å¯¹ã€‚
- `erase(position)`ï¼šåˆ é™¤æŒ‡å®šä½ç½®çš„é”®å€¼å¯¹ã€‚
- `erase(key)`ï¼šåˆ é™¤æŒ‡å®šé”®çš„é”®å€¼å¯¹ã€‚
- `find(key)`ï¼šæŸ¥æ‰¾æŒ‡å®šé”®çš„é”®å€¼å¯¹ã€‚
- `count(key)`ï¼šç»Ÿè®¡æŒ‡å®šé”®çš„é”®å€¼å¯¹æ•°é‡ï¼ˆè¿”å› 0 æˆ– 1ï¼‰ã€‚
- `clear()`ï¼šæ¸…ç©ºå®¹å™¨ã€‚
- `empty()`ï¼šæ£€æŸ¥å®¹å™¨æ˜¯å¦ä¸ºç©ºã€‚
- `size()`ï¼šè¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°é‡ã€‚
- `at(key)`ï¼šè®¿é—®æŒ‡å®šé”®çš„å€¼ï¼ˆè‹¥é”®ä¸å­˜åœ¨åˆ™æŠ›å‡ºå¼‚å¸¸ï¼‰ã€‚
- `operator[](key)`ï¼šè®¿é—®æˆ–æ’å…¥æŒ‡å®šé”®çš„å€¼ã€‚

### multimap [æœ‰åº]

å…è®¸é‡å¤é”®çš„é”®å€¼å¯¹é›†åˆï¼ŒæŒ‰é”®æ’åºï¼Œåº•å±‚é€šå¸¸æ˜¯**çº¢é»‘æ ‘**ã€‚

æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(log n)$ã€‚

- `insert({key, value})`ï¼šæ’å…¥é”®å€¼å¯¹ã€‚
- `erase(position)`ï¼šåˆ é™¤æŒ‡å®šä½ç½®çš„é”®å€¼å¯¹ã€‚
- `erase(key)`ï¼šåˆ é™¤æŒ‡å®šé”®çš„é”®å€¼å¯¹ã€‚
- `find(key)`ï¼šæŸ¥æ‰¾æŒ‡å®šé”®çš„é”®å€¼å¯¹ã€‚
- `count(key)`ï¼šç»Ÿè®¡æŒ‡å®šé”®çš„é”®å€¼å¯¹æ•°é‡ã€‚
- `clear()`ï¼šæ¸…ç©ºå®¹å™¨ã€‚
- `empty()`ï¼šæ£€æŸ¥å®¹å™¨æ˜¯å¦ä¸ºç©ºã€‚
- `size()`ï¼šè¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°é‡ã€‚

### unordered_map

> æ— åºå®¹å™¨ä½¿ç”¨å“ˆå¸Œè¡¨å®ç°ï¼Œå…ƒç´ æ— åºæ’åˆ—ï¼Œæ’å…¥å’ŒæŸ¥æ‰¾æ“ä½œå¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚

é”®å€¼å¯¹é›†åˆï¼Œé”®å”¯ä¸€ï¼Œ**å…ƒç´ æ— åºæ’åˆ—**ï¼Œ**åº•å±‚ä¸ºå“ˆå¸Œè¡¨**ã€‚

æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º $O(1)$ã€‚

### unordered_set

é›†åˆï¼Œå­˜å‚¨å”¯ä¸€å…ƒç´ ï¼Œ**å…ƒç´ æ— åºæ’åˆ—**ï¼Œ**åº•å±‚ä¸ºå“ˆå¸Œè¡¨**ã€‚

æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º $O(1)$ã€‚

### unordered_multimap

é”®å€¼å¯¹é›†åˆï¼Œé”®å”¯ä¸€ï¼Œ**å…ƒç´ æ— åºæ’åˆ—**ï¼Œ**åº•å±‚ä¸ºå“ˆå¸Œè¡¨**ã€‚

æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º $O(1)$ã€‚

### unordered_multiset

å…è®¸å­˜å‚¨é‡å¤å…ƒç´ çš„é›†åˆï¼Œ**å…ƒç´ æ— åºæ’åˆ—**ï¼Œ**åº•å±‚ä¸ºå“ˆå¸Œè¡¨**ã€‚

æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º $O(1)$ã€‚

### `std::pair<int, int>`

å°†ä¸¤ä¸ªå€¼ç»„åˆåœ¨ä¸€èµ·ï¼Œå¸¸ç”¨äºå…³è”å®¹å™¨ï¼ˆå¦‚ `std::map`ï¼‰

- `p.first`ï¼šç¬¬ä¸€ä¸ªå…ƒç´ 
- `p.second`ï¼šç¬¬äºŒä¸ªå…ƒç´ 
- `make_pair(val_1, val_2)`ï¼šåˆ›å»ºä¸€ä¸ª `pair` å¯¹è±¡

### stack

åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰çš„æ ˆï¼Œé»˜è®¤ä½¿ç”¨ `std::deque` ä½œä¸ºåº•å±‚å®¹å™¨ã€‚

- `push(value)`
- `pop()`
- `top()`
- `empty()`
- `size()`

### queue

å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„é˜Ÿåˆ—ï¼Œé»˜è®¤ä½¿ç”¨ `std::deque` ä½œä¸ºåº•å±‚å®¹å™¨ã€‚

> `queue` ä¸ºå•ç«¯é˜Ÿåˆ—ï¼Œ`deque` ä¸ºåŒç«¯é˜Ÿåˆ—

- `push(value)`
- `pop()`
- `front()`
- `back()`
- `empty()`
- `size()`

### priority_queue

- `top` è®¿é—®é˜Ÿå¤´å…ƒç´ 
- `empty` é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
- `size` è¿”å›é˜Ÿåˆ—å†…å…ƒç´ ä¸ªæ•°
- `push` / `emplace` æ’å…¥å…ƒç´ åˆ°é˜Ÿå°¾ï¼ˆåè€…ä¸º in-place insertï¼‰
- `pop` å¼¹å‡ºé˜Ÿå¤´å…ƒç´ 
- `swap` äº¤æ¢å†…å®¹

```cpp
const auto data = {1, 8, 5, 6, 3, 4, 0, 9, 7, 2};

// å¤§é¡¶å †(é»˜è®¤)
priority_queue<int> max_priority_queue;
// priority_queue<int, vector<int>, less<>> max_priority_queue;

// å°é¡¶å †
priority_queue<int, vector<int>, greater<int>>
        min_priority_queue(data.begin(), data.end());
```

å…³äº `swap` å‡½æ•°ï¼š

```cpp
int main()
{
    std::vector<std::string> v1{"1","2","3","4"},
                             v2{"â±¯","B","Æ†","D","Æ"};
 
    std::priority_queue s1(std::less<>(), std::move(v1));
    std::priority_queue s2(std::less<>(), std::move(v2));
 
    print("s1", s1);
    print("s2", s2);
 
    s1.swap(s2);
 
    print("s1", s1);
    print("s2", s2);
}
```

Output:

```
s1 [4]: 4 3 2 1
s2 [5]: Æ D Æ† B â±¯
s1 [5]: Æ D Æ† B â±¯
s2 [4]: 4 3 2 1
```

### iterator

`begin()` ä¸ `end()`ï¼šè¿”å›æŒ‡å‘æ•°ç»„**å¼€å¤´**å’Œ**æœ«å°¾ä¹‹åä¸€ä¸ªä½ç½®**çš„è¿­ä»£å™¨

`cbegin()` ä¸ `cend()`ï¼šè¿”å›æŒ‡å‘æ•°ç»„å¼€å¤´å’Œæœ«å°¾ä¹‹åä¸€ä¸ªä½ç½®çš„**å¸¸é‡**è¿­ä»£å™¨

`rbegin()` ä¸ `rend()`ï¼šè¿”å›æŒ‡å‘**æ•°ç»„æœ«å°¾**å’Œ**å¼€å¤´ä¹‹å‰ä¸€ä¸ªä½ç½®**çš„**åå‘**è¿­ä»£å™¨

`crbegin()` ä¸ `crend()`ï¼šè¿”å›æŒ‡å‘æ•°ç»„æœ«å°¾å’Œå¼€å¤´ä¹‹å‰ä¸€ä¸ªä½ç½®çš„**å¸¸é‡åå‘è¿­ä»£å™¨**

**å¸¸é‡è¿­ä»£å™¨åªè¯»**ï¼Œä¸å¯ä»¥ä¿®æ”¹å¯¹åº”çš„å…ƒç´ å€¼ã€‚
